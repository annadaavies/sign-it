{"ast":null,"code":"var _jsxFileName = \"/Users/anna/Desktop/school/A LEVEL - ANNA/COMPUTER SCIENCE/NEA/frontend/src/components/cameraFeed/CameraFeed.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState, useCallback } from \"react\";\nimport Webcam from \"react-webcam\";\nimport { predictLetter, predictClothing } from \"../../services/api\";\nimport styles from \"./CameraFeed.module.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CameraFeed({\n  predictedLetters = [],\n  setPredictedLetters = () => {},\n  translatedSentence = [],\n  setTranslatedSentence = () => {},\n  clothingMode = false\n}) {\n  _s();\n  const webcamRef = useRef(null);\n  const [isPredicting, setIsPredicting] = useState(true);\n\n  // For letter predictions\n  const [currentLetter, setCurrentLetter] = useState(\"\");\n\n  // For clothing predictions\n  const [predictedClothing, setPredictedClothing] = useState(\"\");\n  const [showClothingMessage, setShowClothingMessage] = useState(false);\n  const [feedbackMessage, setFeedbackMessage] = useState(\"\");\n  const [showFeedback, setShowFeedback] = useState(false);\n  const [clothingCaptured, setClothingCaptured] = useState(false);\n\n  //Poll for letter predictions every 0.5 if: isPredicting true AND not in clothing mode or already captured clothing in clothing mode.\n  useEffect(() => {\n    let intervalId;\n    if (isPredicting && (!clothingMode || clothingCaptured)) {\n      intervalId = setInterval(async () => {\n        await captureImageAndPredict();\n      }, 500);\n    }\n    return () => {\n      if (intervalId) clearInterval(intervalId);\n    };\n  }, [isPredicting, clothingMode, clothingCaptured]);\n  const captureImageAndPredict = useCallback(async () => {\n    if (!webcamRef.current) return;\n    const imageSrc = webcamRef.current.getScreenshot();\n    if (!imageSrc) return;\n    try {\n      const letter = await predictLetter(imageSrc);\n      if (letter && letter.length === 1 && letter.match(/[A-Z]/)) {\n        setCurrentLetter(letter);\n        setPredictedLetters(prev => [...prev, letter]);\n      } else {\n        setCurrentLetter(letter);\n      }\n    } catch (error) {\n      console.error(\"Prediction error:\", error);\n    }\n  }, [setPredictedLetters]);\n  const handleDeleteLastLetter = () => {\n    setPredictedLetters(prev => prev.slice(0, -1));\n  };\n  const handleAddWord = () => {\n    if (predictedLetters.length === 0) return;\n    const newWord = predictedLetters.join(\"\");\n    setTranslatedSentence(prev => [...prev, newWord]);\n    setPredictedLetters([]);\n  };\n  const togglePredicting = () => {\n    setIsPredicting(prev => !prev);\n  };\n\n  // Capture a clothing frame only in \"Interactive Mode\"\n  const handleCaptureClothing = async () => {\n    if (!webcamRef.current) return;\n    const imageSrc = webcamRef.current.getScreenshot();\n    if (!imageSrc) return;\n    try {\n      const item = await predictClothing(imageSrc);\n      console.log(\"Clothing item predicted:\", item);\n      setPredictedClothing(item);\n      if (item && item !== \"No Frame\") {\n        setShowClothingMessage(true);\n        setClothingCaptured(true);\n        setIsPredicting(true);\n        setTimeout(() => {\n          setShowClothingMessage(false);\n        }, 3000);\n      }\n    } catch (error) {\n      console.error(\"Clothing capture error:\", error);\n    }\n  };\n  const handleCheckClothingSign = () => {\n    const spelledWord = predictedLetters.join(\"\").toLowerCase();\n    console.log(\"Checking spelledWord vs item:\", spelledWord, predictedClothing);\n    if (!predictedClothing) {\n      setFeedbackMessage(\"No clothing item captured yet!\");\n      setShowFeedback(true);\n      setTimeout(() => setShowFeedback(false), 3000);\n      return;\n    }\n    if (spelledWord === predictedClothing.toLowerCase()) {\n      setFeedbackMessage(\"Well done -- that's the right sign.\");\n    } else {\n      setFeedbackMessage(`That's not the right sign. (You spelled \"${spelledWord}\" but item is \"${predictedClothing}\")`);\n    }\n    setShowFeedback(true);\n    setTimeout(() => setShowFeedback(false), 3000);\n    setPredictedLetters([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.webcamWrapper,\n      children: [/*#__PURE__*/_jsxDEV(Webcam, {\n        audio: false,\n        ref: webcamRef,\n        screenshotFormat: \"image/jpeg\",\n        className: styles.webcam,\n        videoConstraints: {\n          facingMode: \"user\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.dashedOverlay\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), clothingMode && !clothingCaptured && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.captureButton,\n        onClick: handleCaptureClothing,\n        children: \"Capture Clothing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.bottomBar,\n      children: [!clothingMode && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.predictedLettersBox,\n          children: predictedLetters.length === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.placeholderText,\n            children: \"Letters will appear...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.predictedLetters,\n            children: predictedLetters.join(\"\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.buttonGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.deleteButton,\n            onClick: handleDeleteLastLetter,\n            disabled: predictedLetters.length === 0,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.addWordButton,\n            onClick: handleAddWord,\n            disabled: predictedLetters.length === 0,\n            children: \"Add Word\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.addWordButton,\n            onClick: togglePredicting,\n            children: [isPredicting ? \"Stop\" : \"Start\", \" Predicting\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), clothingMode && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.predictedLettersBox,\n          children: predictedLetters.length === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.placeholderText,\n            children: \"Letters will appear...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.predictedLetters,\n            children: predictedLetters.join(\"\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.buttonGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.deleteButton,\n            onClick: handleDeleteLastLetter,\n            disabled: predictedLetters.length === 0,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.addWordButton,\n            onClick: handleCheckClothingSign,\n            children: \"Enter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Detected: \", currentLetter]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), showClothingMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.clothingOverlay,\n      style: {\n        zIndex: 2000\n      },\n      children: [\"That is a \", predictedClothing, \". Now, Sign-It!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this), showFeedback && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.feedbackOverlay,\n      style: {\n        zIndex: 2000\n      },\n      children: feedbackMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n}\n_s(CameraFeed, \"K5G0pwbBZvcbufObOuC9qhykEYQ=\");\n_c = CameraFeed;\nexport default CameraFeed;\nvar _c;\n$RefreshReg$(_c, \"CameraFeed\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useCallback","Webcam","predictLetter","predictClothing","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","CameraFeed","predictedLetters","setPredictedLetters","translatedSentence","setTranslatedSentence","clothingMode","_s","webcamRef","isPredicting","setIsPredicting","currentLetter","setCurrentLetter","predictedClothing","setPredictedClothing","showClothingMessage","setShowClothingMessage","feedbackMessage","setFeedbackMessage","showFeedback","setShowFeedback","clothingCaptured","setClothingCaptured","intervalId","setInterval","captureImageAndPredict","clearInterval","current","imageSrc","getScreenshot","letter","length","match","prev","error","console","handleDeleteLastLetter","slice","handleAddWord","newWord","join","togglePredicting","handleCaptureClothing","item","log","setTimeout","handleCheckClothingSign","spelledWord","toLowerCase","className","container","children","webcamWrapper","audio","ref","screenshotFormat","webcam","videoConstraints","facingMode","fileName","_jsxFileName","lineNumber","columnNumber","dashedOverlay","captureButton","onClick","bottomBar","predictedLettersBox","placeholderText","buttonGroup","deleteButton","disabled","addWordButton","clothingOverlay","style","zIndex","feedbackOverlay","_c","$RefreshReg$"],"sources":["/Users/anna/Desktop/school/A LEVEL - ANNA/COMPUTER SCIENCE/NEA/frontend/src/components/cameraFeed/CameraFeed.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState, useCallback } from \"react\";\nimport Webcam from \"react-webcam\";\nimport { predictLetter, predictClothing } from \"../../services/api\";\nimport styles from \"./CameraFeed.module.css\";\n\nfunction CameraFeed({\n  predictedLetters = [],\n  setPredictedLetters = () => {},\n  translatedSentence = [],\n  setTranslatedSentence = () => {},\n  clothingMode = false,\n}) {\n  const webcamRef = useRef(null);\n  const [isPredicting, setIsPredicting] = useState(true);\n\n  // For letter predictions\n  const [currentLetter, setCurrentLetter] = useState(\"\");\n\n  // For clothing predictions\n  const [predictedClothing, setPredictedClothing] = useState(\"\");\n  const [showClothingMessage, setShowClothingMessage] = useState(false);\n  const [feedbackMessage, setFeedbackMessage] = useState(\"\");\n  const [showFeedback, setShowFeedback] = useState(false);\n\n  const [clothingCaptured, setClothingCaptured] = useState(false);\n\n  //Poll for letter predictions every 0.5 if: isPredicting true AND not in clothing mode or already captured clothing in clothing mode.\n  useEffect(() => {\n    let intervalId;\n    if (isPredicting && (!clothingMode || clothingCaptured)) {\n      intervalId = setInterval(async () => {\n        await captureImageAndPredict();\n      }, 500);\n    }\n    return () => {\n      if (intervalId) clearInterval(intervalId);\n    };\n  }, [isPredicting, clothingMode, clothingCaptured]);\n\n  const captureImageAndPredict = useCallback(async () => {\n    if (!webcamRef.current) return;\n    const imageSrc = webcamRef.current.getScreenshot();\n    if (!imageSrc) return;\n\n    try {\n      const letter = await predictLetter(imageSrc);\n      if (letter && letter.length === 1 && letter.match(/[A-Z]/)) {\n        setCurrentLetter(letter);\n        setPredictedLetters((prev) => [...prev, letter]);\n      } else {\n        setCurrentLetter(letter);\n      }\n    } catch (error) {\n      console.error(\"Prediction error:\", error);\n    }\n  }, [setPredictedLetters]);\n\n  const handleDeleteLastLetter = () => {\n    setPredictedLetters((prev) => prev.slice(0, -1));\n  };\n\n  const handleAddWord = () => {\n    if (predictedLetters.length === 0) return;\n    const newWord = predictedLetters.join(\"\");\n    setTranslatedSentence((prev) => [...prev, newWord]);\n    setPredictedLetters([]);\n  };\n\n  const togglePredicting = () => {\n    setIsPredicting((prev) => !prev);\n  };\n\n  // Capture a clothing frame only in \"Interactive Mode\"\n  const handleCaptureClothing = async () => {\n    if (!webcamRef.current) return;\n    const imageSrc = webcamRef.current.getScreenshot();\n    if (!imageSrc) return;\n\n    try {\n      const item = await predictClothing(imageSrc);\n      console.log(\"Clothing item predicted:\", item);\n      setPredictedClothing(item);\n\n      if (item && item !== \"No Frame\") {\n        setShowClothingMessage(true);\n        setClothingCaptured(true);\n        setIsPredicting(true);\n\n        setTimeout(() => {\n          setShowClothingMessage(false);\n        }, 3000);\n      }\n    } catch (error) {\n      console.error(\"Clothing capture error:\", error);\n    }\n  };\n\n  const handleCheckClothingSign = () => {\n    const spelledWord = predictedLetters.join(\"\").toLowerCase();\n    console.log(\n      \"Checking spelledWord vs item:\",\n      spelledWord,\n      predictedClothing\n    );\n\n    if (!predictedClothing) {\n      setFeedbackMessage(\"No clothing item captured yet!\");\n      setShowFeedback(true);\n      setTimeout(() => setShowFeedback(false), 3000);\n      return;\n    }\n\n    if (spelledWord === predictedClothing.toLowerCase()) {\n      setFeedbackMessage(\"Well done -- that's the right sign.\");\n    } else {\n      setFeedbackMessage(\n        `That's not the right sign. (You spelled \"${spelledWord}\" but item is \"${predictedClothing}\")`\n      );\n    }\n\n    setShowFeedback(true);\n    setTimeout(() => setShowFeedback(false), 3000);\n    setPredictedLetters([]);\n  };\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.webcamWrapper}>\n        <Webcam\n          audio={false}\n          ref={webcamRef}\n          screenshotFormat=\"image/jpeg\"\n          className={styles.webcam}\n          videoConstraints={{\n            facingMode: \"user\",\n          }}\n        />\n\n        <div className={styles.dashedOverlay}></div>\n\n        {/* Show the capture button only if in clothing mode and haven't captured yet */}\n        {clothingMode && !clothingCaptured && (\n          <button\n            className={styles.captureButton}\n            onClick={handleCaptureClothing}\n          >\n            Capture Clothing\n          </button>\n        )}\n      </div>\n\n      <div className={styles.bottomBar}>\n        {!clothingMode && (\n          <>\n            <div className={styles.predictedLettersBox}>\n              {predictedLetters.length === 0 ? (\n                <span className={styles.placeholderText}>\n                  Letters will appear...\n                </span>\n              ) : (\n                <span className={styles.predictedLetters}>\n                  {predictedLetters.join(\"\")}\n                </span>\n              )}\n            </div>\n            <div className={styles.buttonGroup}>\n              <button\n                className={styles.deleteButton}\n                onClick={handleDeleteLastLetter}\n                disabled={predictedLetters.length === 0}\n              >\n                Delete\n              </button>\n              <button\n                className={styles.addWordButton}\n                onClick={handleAddWord}\n                disabled={predictedLetters.length === 0}\n              >\n                Add Word\n              </button>\n              <button\n                className={styles.addWordButton}\n                onClick={togglePredicting}\n              >\n                {isPredicting ? \"Stop\" : \"Start\"} Predicting\n              </button>\n            </div>\n          </>\n        )}\n\n        {clothingMode && (\n          <>\n            <div className={styles.predictedLettersBox}>\n              {predictedLetters.length === 0 ? (\n                <span className={styles.placeholderText}>\n                  Letters will appear...\n                </span>\n              ) : (\n                <span className={styles.predictedLetters}>\n                  {predictedLetters.join(\"\")}\n                </span>\n              )}\n            </div>\n            <div className={styles.buttonGroup}>\n              <button\n                className={styles.deleteButton}\n                onClick={handleDeleteLastLetter}\n                disabled={predictedLetters.length === 0}\n              >\n                Delete\n              </button>\n              <button\n                className={styles.addWordButton}\n                onClick={handleCheckClothingSign}\n              >\n                Enter\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n\n      <p>Detected: {currentLetter}</p>\n\n      {showClothingMessage && (\n        <div className={styles.clothingOverlay} style={{ zIndex: 2000 }}>\n          That is a {predictedClothing}. Now, Sign-It!\n        </div>\n      )}\n\n      {showFeedback && (\n        <div className={styles.feedbackOverlay} style={{ zIndex: 2000 }}>\n          {feedbackMessage}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default CameraFeed;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}