{"ast":null,"code":"var _jsxFileName = \"/Users/anna/Desktop/school/A LEVEL - ANNA/COMPUTER SCIENCE/NEA/frontend/src/components/cameraFeed/CameraFeed.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState, useCallback } from \"react\";\nimport Webcam from \"react-webcam\";\nimport { predictLetter, predictClothing } from \"../../services/api\";\nimport styles from \"./CameraFeed.module.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CameraFeed({\n  predictedLetters = [],\n  setPredictedLetters = () => {},\n  translatedSentence = [],\n  setTranslatedSentence = () => {},\n  clothingMode = false\n}) {\n  _s();\n  const webcamRef = useRef(null);\n  const [isPredicting, setIsPredicting] = useState(true);\n\n  //For letter predictions\n  const [currentLetter, setCurrentLetter] = useState(\"\");\n\n  //For clothing predictions\n  const [predictedClothing, setPredictedClothing] = useState(\"\");\n  const [showClothingMessage, setShowClothingMessage] = useState(false);\n  const [feedbackMessage, setFeedbackMessage] = useState(\"\");\n  const [showFeedback, setShowFeedback] = useState(false);\n\n  //In normal mode, continuously poll letter recognition\n  useEffect(() => {\n    let intervalId;\n    if (isPredicting && !clothingMode) {\n      intervalId = setInterval(async () => {\n        await captureImageAndPredict();\n      }, 500); // Polls every 0.5 seconds\n    }\n    return () => {\n      if (intervalId) clearInterval(intervalId);\n    };\n  }, [isPredicting, clothingMode]);\n  const captureImageAndPredict = useCallback(async () => {\n    if (!webcamRef.current) return;\n    const imageSrc = webcamRef.current.getScreenshot();\n    if (!imageSrc) return;\n    try {\n      const letter = await predictLetter(imageSrc);\n      if (letter && letter.length === 1 && letter.match(/[A-Z]/)) {\n        setCurrentLetter(letter);\n        setPredictedLetters(prev => [...prev, letter]);\n      } else if (letter === \"Stabilising...\") {\n        setCurrentLetter(letter);\n      } else {\n        setCurrentLetter(letter);\n      }\n    } catch (error) {\n      console.error(\"Prediction error:\", error);\n    }\n  }, [setPredictedLetters]);\n  const handleDeleteLastLetter = () => {\n    setPredictedLetters(prev => prev.slice(0, -1));\n  };\n  const handleAddWord = () => {\n    if (predictedLetters.length === 0) return;\n    const newWord = predictedLetters.join(\"\");\n    setTranslatedSentence(prev => [...prev, newWord]);\n    setPredictedLetters([]);\n  };\n  const togglePredicting = () => {\n    setIsPredicting(prev => !prev);\n  };\n\n  //Manual frame capturing for clothing detection.\n  const handleCaptureClothing = async () => {\n    if (!webcamRef.current) return;\n    const imageSrc = webcamRef.current.getScreenshot();\n    if (!imageSrc) return;\n    try {\n      const item = await predictClothing(imageSrc);\n      setPredictedClothing(item);\n      setShowClothingMessage(true);\n      setTimeout(() => {\n        setShowClothingMessage(false);\n      }, 3000);\n    } catch (error) {\n      console.error(\"Clothing capture error:\", error);\n    }\n  };\n  const handleCheckClothingSign = () => {\n    const spelledWord = predictedLetters.join(\"\").toLowerCase();\n    const item = predictedClothing.toLowerCase();\n    if (!predictedClothing) {\n      setFeedbackMessage(\"No clothing item captured yet.\");\n      setShowFeedback(true);\n      setTimeout(() => setShowFeedback(false), 3000);\n      return;\n    }\n    if (spelledWord === item) {\n      setFeedbackMessage(\"Well done -- that's the right sign.\");\n    } else {\n      setFeedbackMessage(`That's not the right sign. (You spelled \"${spelledWord}\" but item is \"${predictedClothing}\")`);\n    }\n    setShowFeedback(true);\n    setTimeout(() => setShowFeedback(false), 3000);\n    setPredictedLetters([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.webcamWrapper,\n      children: [/*#__PURE__*/_jsxDEV(Webcam, {\n        audio: false,\n        ref: webcamRef,\n        screenshotFormat: \"image/jpeg\",\n        className: styles.webcam,\n        videoConstraints: {\n          facingMode: \"user\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.dashedOverlay\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), clothingMode && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.captureButton,\n        onClick: handleCaptureClothing,\n        children: \"Capture Clothing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.bottomBar,\n      children: [!clothingMode && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.predictedLettersBox,\n          children: predictedLetters.length === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.placeholderText,\n            children: \"Letters will appear here...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.predictedLetters,\n            children: predictedLetters.join(\"\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.buttonGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.deleteButton,\n            onClick: handleDeleteLastLetter,\n            disabled: predictedLetters.length === 0,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.addWordButton,\n            onClick: handleAddWord,\n            disabled: predictedLetters.length === 0,\n            children: \"Add Word\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.addWordButton,\n            onClick: togglePredicting,\n            children: [isPredicting ? \"Stop\" : \"Start\", \" Predicting\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), clothingMode && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.predictedLettersBox,\n          children: predictedLetters.length === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.placeholderText,\n            children: \"Letters will appear here...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: styles.predictedLetters,\n            children: predictedLetters.join(\"\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.buttonGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.deleteButton,\n            onClick: handleDeleteLastLetter,\n            disabled: predictedLetters.length === 0,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.addWordButton,\n            onClick: handleCheckClothingSign,\n            children: \"Enter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Detected: \", currentLetter]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 8\n    }, this), showClothingMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.clothingOverlay,\n      children: [\"That is a \", predictedClothing, \". Now, Sign-It!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }, this), showFeedback && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.feedbackOverlay,\n      children: feedbackMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n_s(CameraFeed, \"WSOaiNzs6lh+CtMeO9LSzJem3Y4=\");\n_c = CameraFeed;\nexport default CameraFeed;\nvar _c;\n$RefreshReg$(_c, \"CameraFeed\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useCallback","Webcam","predictLetter","predictClothing","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","CameraFeed","predictedLetters","setPredictedLetters","translatedSentence","setTranslatedSentence","clothingMode","_s","webcamRef","isPredicting","setIsPredicting","currentLetter","setCurrentLetter","predictedClothing","setPredictedClothing","showClothingMessage","setShowClothingMessage","feedbackMessage","setFeedbackMessage","showFeedback","setShowFeedback","intervalId","setInterval","captureImageAndPredict","clearInterval","current","imageSrc","getScreenshot","letter","length","match","prev","error","console","handleDeleteLastLetter","slice","handleAddWord","newWord","join","togglePredicting","handleCaptureClothing","item","setTimeout","handleCheckClothingSign","spelledWord","toLowerCase","className","container","children","webcamWrapper","audio","ref","screenshotFormat","webcam","videoConstraints","facingMode","fileName","_jsxFileName","lineNumber","columnNumber","dashedOverlay","captureButton","onClick","bottomBar","predictedLettersBox","placeholderText","buttonGroup","deleteButton","disabled","addWordButton","clothingOverlay","feedbackOverlay","_c","$RefreshReg$"],"sources":["/Users/anna/Desktop/school/A LEVEL - ANNA/COMPUTER SCIENCE/NEA/frontend/src/components/cameraFeed/CameraFeed.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState, useCallback } from \"react\";\nimport Webcam from \"react-webcam\";\nimport { predictLetter, predictClothing } from \"../../services/api\";\nimport styles from \"./CameraFeed.module.css\";\n\nfunction CameraFeed({\n  predictedLetters = [],\n  setPredictedLetters = () => {},\n  translatedSentence = [],\n  setTranslatedSentence = () => {},\n  clothingMode = false,\n}) {\n  const webcamRef = useRef(null);\n  const [isPredicting, setIsPredicting] = useState(true);\n\n  //For letter predictions\n  const [currentLetter, setCurrentLetter] = useState(\"\");\n\n  //For clothing predictions\n  const [predictedClothing, setPredictedClothing] = useState(\"\");\n  const [showClothingMessage, setShowClothingMessage] = useState(false);\n  const [feedbackMessage, setFeedbackMessage] = useState(\"\");\n  const [showFeedback, setShowFeedback] = useState(false);\n\n  //In normal mode, continuously poll letter recognition\n  useEffect(() => {\n    let intervalId;\n    if (isPredicting && !clothingMode) {\n      intervalId = setInterval(async () => {\n        await captureImageAndPredict();\n      }, 500); // Polls every 0.5 seconds\n    }\n    return () => {\n      if (intervalId) clearInterval(intervalId);\n    };\n  }, [isPredicting, clothingMode]);\n\n  const captureImageAndPredict = useCallback(async () => {\n    if (!webcamRef.current) return;\n    const imageSrc = webcamRef.current.getScreenshot();\n    if (!imageSrc) return;\n\n    try {\n      const letter = await predictLetter(imageSrc);\n      if (letter && letter.length === 1 && letter.match(/[A-Z]/)) {\n        setCurrentLetter(letter);\n        setPredictedLetters((prev) => [...prev, letter]);\n      } else if (letter === \"Stabilising...\") {\n        setCurrentLetter(letter);\n      } else {\n        setCurrentLetter(letter);\n      }\n    } catch (error) {\n      console.error(\"Prediction error:\", error);\n    }\n  }, [setPredictedLetters]);\n\n  const handleDeleteLastLetter = () => {\n    setPredictedLetters((prev) => prev.slice(0, -1));\n  };\n\n  const handleAddWord = () => {\n    if (predictedLetters.length === 0) return;\n    const newWord = predictedLetters.join(\"\");\n    setTranslatedSentence((prev) => [...prev, newWord]);\n    setPredictedLetters([]);\n  };\n\n  const togglePredicting = () => {\n    setIsPredicting((prev) => !prev);\n  };\n\n  //Manual frame capturing for clothing detection.\n  const handleCaptureClothing = async () => {\n    if (!webcamRef.current) return;\n    const imageSrc = webcamRef.current.getScreenshot();\n    if (!imageSrc) return;\n\n    try {\n      const item = await predictClothing(imageSrc);\n      setPredictedClothing(item);\n      setShowClothingMessage(true);\n\n      setTimeout(() => {\n        setShowClothingMessage(false);\n      }, 3000);\n    } catch (error) {\n      console.error(\"Clothing capture error:\", error);\n    }\n  };\n\n  const handleCheckClothingSign = () => {\n    const spelledWord = predictedLetters.join(\"\").toLowerCase();\n    const item = predictedClothing.toLowerCase();\n\n    if (!predictedClothing) {\n      setFeedbackMessage(\"No clothing item captured yet.\");\n      setShowFeedback(true);\n      setTimeout(() => setShowFeedback(false), 3000);\n      return;\n    }\n\n    if (spelledWord === item) {\n      setFeedbackMessage(\"Well done -- that's the right sign.\");\n    } else {\n      setFeedbackMessage(\n        `That's not the right sign. (You spelled \"${spelledWord}\" but item is \"${predictedClothing}\")`\n      );\n    }\n    setShowFeedback(true);\n    setTimeout(() => setShowFeedback(false), 3000);\n\n    setPredictedLetters([]);\n  };\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.webcamWrapper}>\n        <Webcam\n          audio={false}\n          ref={webcamRef}\n          screenshotFormat=\"image/jpeg\"\n          className={styles.webcam}\n          videoConstraints={{\n            facingMode: \"user\",\n          }}\n        />\n\n        <div className={styles.dashedOverlay}></div>\n\n        {clothingMode && (\n          <button\n            className={styles.captureButton}\n            onClick={handleCaptureClothing}\n          >\n            Capture Clothing\n          </button>\n        )}\n      </div>\n\n      <div className={styles.bottomBar}>\n        {!clothingMode && (\n          <>\n            <div className={styles.predictedLettersBox}>\n              {predictedLetters.length === 0 ? (\n                <span className={styles.placeholderText}>\n                  Letters will appear here...\n                </span>\n              ) : (\n                <span className={styles.predictedLetters}>\n                  {predictedLetters.join(\"\")}\n                </span>\n              )}\n            </div>\n            <div className={styles.buttonGroup}>\n              <button\n                className={styles.deleteButton}\n                onClick={handleDeleteLastLetter}\n                disabled={predictedLetters.length === 0}\n              >\n                Delete\n              </button>\n              <button\n                className={styles.addWordButton}\n                onClick={handleAddWord}\n                disabled={predictedLetters.length === 0}\n              >\n                Add Word\n              </button>\n              <button\n                className={styles.addWordButton}\n                onClick={togglePredicting}\n              >\n                {isPredicting ? \"Stop\" : \"Start\"} Predicting\n              </button>\n            </div>\n          </>\n        )}\n\n        {clothingMode && (\n          <>\n            <div className={styles.predictedLettersBox}>\n              {predictedLetters.length === 0 ? (\n                <span className={styles.placeholderText}>\n                  Letters will appear here...\n                </span>\n              ) : (\n                <span className={styles.predictedLetters}>\n                  {predictedLetters.join(\"\")}\n                </span>\n              )}\n            </div>\n            <div className={styles.buttonGroup}>\n              <button\n                className={styles.deleteButton}\n                onClick={handleDeleteLastLetter}\n                disabled={predictedLetters.length === 0}\n              >\n                Delete\n              </button>\n\n              <button\n                className={styles.addWordButton}\n                onClick={handleCheckClothingSign}\n              >\n                Enter\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n\n      {<p>Detected: {currentLetter}</p>}\n\n      {showClothingMessage && (\n        <div className={styles.clothingOverlay}>\n          That is a {predictedClothing}. Now, Sign-It!\n        </div>\n      )}\n\n      {showFeedback && (\n        <div className={styles.feedbackOverlay}>{feedbackMessage}</div>\n      )}\n    </div>\n  );\n}\n\nexport default CameraFeed;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}